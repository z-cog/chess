https://sequencediagram.org/index.html#initialData=actor%20User%0Aparticipant%20Server%0Aparticipant%20ServicesDaemon%0Aparticipant%20DataAccess%0Adatabase%20db%0A%0Agroup%20%23navy%20Registration%20%23white%0AUser%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fuser%5Cn%7Busername%2C%20password%2C%20email%7D%0AServer%20-%3E%20ServicesDaemon%3A%20register(username%2C%20password%2C%20email)%0AServicesDaemon%20--%3E%20Server%3A%20bad_request_err%0AServer%20--%3E%20User%3A%20400%5Cn%7BError%3A%20bad%20request%7D%0A%0AServicesDaemon%20-%3E%20DataAccess%3A%20getUser(username)%0A%0ADataAccess%20--%3EServicesDaemon%3A%20database_inaccesible_err%0AServicesDaemon%20--%3EServer%3A%20database_inaccesible_err%0AServer%20--%3EUser%3A%20500%5Cn%20%7BError%3A%20database%20inaccesible%7D%0A%0A%0ADataAccess%20-%3E%20db%3A%20SELECT%20UserData%20from%20user%0ADataAccess%20--%3E%20ServicesDaemon%3A%20!null%0AServicesDaemon%20--%3E%20Server%3A%20user_taken_err%0AServer%20--%3E%20User%3A%20403%5Cn%7BError%3A%20already%20taken%7D%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0AServicesDaemon%20-%3E%20DataAccess%3A%20createUser(username%2C%20password)%0ADataAccess%20-%3E%20db%3A%20INSERT%20UserData%20INTO%20user%0AServicesDaemon%20-%3E%20DataAccess%3A%20createAuth(username)%0ADataAccess%20-%3E%20db%3A%20INSERT%20AuthData%20INTO%20auth%0ADataAccess%20--%3E%20ServicesDaemon%3A%20authToken%0AServicesDaemon%20--%3E%20Server%3A%20authToken%0AServer%20--%3E%20User%3A%20200%5Cn%7BauthToken%7D%0Aend%0A%0Agroup%20%23orange%20Login%20%23white%0AUser%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fsession%5Cn%7Busername%2C%20password%7D%0A%0AServer%20-%3E%20ServicesDaemon%3A%20login(username%2C%20password)%0A%0AServicesDaemon%20-%3E%20DataAccess%3A%20getUser(username)%0A%0ADataAccess%20--%3EServicesDaemon%3A%20database_inaccesible_err%0AServicesDaemon%20--%3EServer%3A%20database_inaccesible_err%0AServer%20--%3EUser%3A%20500%5Cn%20%7BError%3A%20database%20inaccesible%7D%0A%0A%0ADataAccess%20-%3E%20db%3A%20SELECT%20UserData%20from%20user%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0A%0AServicesDaemon%20--%3E%20Server%3A%20unauthorized_err%0AServer%20--%3E%20User%3A%20401%5Cn%7BError%3A%20unauthorized%7D%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20!null%0AServicesDaemon%20-%3E%20ServicesDaemon%3A%20verifyPassword(password%2C%20UserData)%0AServicesDaemon%20--%3E%20ServicesDaemon%3A%20FALSE%0AServicesDaemon%20--%3E%20Server%3A%20unauthorized_err%0AServer%20--%3E%20User%3A%20401%5Cn%7BError%3A%20unauthorized%7D%0A%0AServicesDaemon%20--%3E%20ServicesDaemon%3A%20TRUE%0AServicesDaemon%20-%3E%20DataAccess%3A%20createAuth(username)%0ADataAccess%20-%3E%20db%3A%20INSERT%20AuthData%20INTO%20auth%0ADataAccess%20--%3E%20ServicesDaemon%3A%20authToken%0AServicesDaemon%20--%3E%20Server%3A%20authToken%0AServer%20--%3E%20User%3A%20200%5Cn%7BauthToken%7D%0Aend%0A%0Agroup%20%23green%20Logout%20%23white%0AUser%20-%3E%20Server%3A%20%5BDELETE%5D%20%2Fsession%5CnauthToken%0A%0AServer%20-%3E%20ServicesDaemon%3A%20logout(authToken)%0A%0AServicesDaemon%20-%3E%20DataAccess%3A%20getAuth(authToken)%0A%0ADataAccess%20--%3EServicesDaemon%3A%20database_inaccesible_err%0AServicesDaemon%20--%3EServer%3A%20database_inaccesible_err%0AServer%20--%3EUser%3A%20500%5Cn%20%7BError%3A%20database%20inaccesible%7D%0A%0A%0ADataAccess%20-%3E%20db%3A%20SELECT%20AuthData%20from%20auth%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0A%0AServicesDaemon%20--%3E%20Server%3A%20unauthorized_err%0AServer%20--%3E%20User%3A%20401%5Cn%7BError%3A%20unauthorized%7D%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20!null%0AServicesDaemon%20-%3E%20DataAccess%3A%20removeAuth(authToken)%0ADataAccess%20-%3E%20db%3A%20REMOVE%20AuthData%20from%20auth%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0AServicesDaemon%20--%3E%20Server%3A%20null%0AServer%20--%3E%20User%3A%20200%0Aend%0A%0Agroup%20%23red%20List%20Games%20%23white%0AUser%20-%3E%20Server%3A%20%5BGET%5D%20%2Fgame%5CnauthToken%0AServer%20-%3E%20ServicesDaemon%3A%20listGames(authToken)%0A%0AServicesDaemon%20-%3E%20DataAccess%3A%20getAuth(authToken)%0A%0ADataAccess%20--%3EServicesDaemon%3A%20database_inaccesible_err%0AServicesDaemon%20--%3EServer%3A%20database_inaccesible_err%0AServer%20--%3EUser%3A%20500%5Cn%20%7BError%3A%20database%20inaccesible%7D%0A%0A%0ADataAccess%20-%3E%20db%3A%20SELECT%20AuthData%20from%20auth%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0A%0AServicesDaemon%20--%3E%20Server%3A%20unauthorized_err%0AServer%20--%3E%20User%3A%20401%5Cn%7BError%3A%20unauthorized%7D%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20!null%0AServicesDaemon%20-%3E%20DataAccess%3A%20getGame(all)%0ADataAccess%20-%3E%20db%3A%20SELECT%20ALL%20from%20games%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20gamesList%0AServicesDaemon%20--%3E%20Server%3A%20gamesList%0AServer%20--%3E%20User%3A%20200%5Cn%7B%22games%22%3A%20%5B...%5D%7D%0Aend%0A%0Agroup%20%23purple%20Create%20Game%20%23white%0AUser%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fgame%5CnauthToken%5Cn%7BgameName%7D%0A%0AServer%20-%3EServicesDaemon%3A%20createGame(authToken%2C%20gameName)%0AServicesDaemon%20--%3E%20Server%3A%20bad_request_err%0AServer%20--%3E%20User%3A%20400%5Cn%7BError%3A%20bad%20request%7D%0A%0AServicesDaemon%20-%3E%20DataAccess%3A%20getAuth(authToken)%0A%0ADataAccess%20--%3EServicesDaemon%3A%20database_inaccesible_err%0AServicesDaemon%20--%3EServer%3A%20database_inaccesible_err%0AServer%20--%3EUser%3A%20500%5Cn%20%7BError%3A%20database%20inaccesible%7D%0A%0A%0ADataAccess%20-%3E%20db%3A%20SELECT%20AuthData%20from%20auth%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0A%0AServicesDaemon%20--%3E%20Server%3A%20unauthorized_err%0AServer%20--%3E%20User%3A%20401%5Cn%7BError%3A%20unauthorized%7D%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20!null%0AServicesDaemon%20-%3E%20DataAccess%3A%20createGame(gameName)%0A%0ADataAccess%20-%3E%20db%3A%20INSERT%20GameData%20into%20games%0ADataAccess%20--%3E%20ServicesDaemon%3A%20gameID%0AServicesDaemon%20--%3E%20Server%3A%20gameID%0AServer--%3EServer%3A%20serialize(gameID)%0AServer%20--%3E%20User%3A%20200%5Cn%7BgameID%7D%0Aend%0A%0Agroup%20%23yellow%20Join%20Game%20%23black%0AUser%20-%3E%20Server%3A%20%5BPUT%5D%20%2Fgame%5CnauthToken%5Cn%7BClientColor%2C%20gameID%7D%0A%0AServer%20-%3EServicesDaemon%3A%20joinGame(authToken%2C%20gameID%2C%20ClientColor)%0AServicesDaemon%20--%3E%20Server%3A%20bad_request_err%0AServer%20--%3E%20User%3A%20400%5Cn%7BError%3A%20bad%20request%7D%0A%0AServicesDaemon%20-%3E%20DataAccess%3A%20getAuth(authToken)%0A%0ADataAccess%20--%3EServicesDaemon%3A%20database_inaccesible_err%0AServicesDaemon%20--%3EServer%3A%20database_inaccesible_err%0AServer%20--%3EUser%3A%20500%5Cn%20%7BError%3A%20database%20gone%20lol%7D%0A%0A%0ADataAccess%20-%3E%20db%3A%20SELECT%20AuthData%20from%20auth%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0A%0AServicesDaemon%20--%3E%20Server%3A%20unauthorized_err%0AServer%20--%3E%20User%3A%20401%5Cn%7BError%3A%20unauthorized%7D%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20!null%0AServicesDaemon%20-%3E%20DataAccess%3A%20getGame(gameID)%0A%0ADataAccess%20-%3E%20db%3A%20SELECT%20GameData%20from%20games%0ADataAccess%20--%3EServicesDaemon%3A%20null%0AServicesDaemon%20--%3E%20Server%3A%20bad_request_err%0AServer%20--%3E%20User%3A%20400%5Cn%7BError%3A%20bad%20request%7D%0A%0ADataAccess%20--%3EServicesDaemon%3A%20!null%0AServicesDaemon%20-%3EServicesDaemon%3A%20updatePlayer(ClientColor%2C%20GameData)%0A%0AServicesDaemon%20--%3E%20Server%3A%20user_taken_err%0AServer%20--%3E%20User%3A%20403%5Cn%7BError%3A%20already%20taken%7D%0A%0AServicesDaemon%20-%3EDataAccess%3A%20updateGame(GameData)%0ADataAccess-%3Edb%3AUPDATE%20GameData%20in%20gameID%0A%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0AServicesDaemon%20--%3E%20Server%3A%20null%0AServer%20--%3E%20User%3A%20200%0Aend%0A%0Agroup%20%23gray%20Clear%20application%20%23white%0AUser%20-%3E%20Server%3A%20%5BDELETE%5D%20%2Fdb%0AServer%20-%3EServicesDaemon%3A%20clear()%0AServicesDaemon%20-%3EDataAccess%3A%20clearDatabase()%0ADataAccess%20-%3E%20db%3A%20DELETE%20ALL%20from%20user%0ADataAccess%20-%3E%20db%3A%20DELETE%20ALL%20from%20games%0ADataAccess%20-%3E%20db%3A%20DELETE%20ALL%20from%20auth%0ADataAccess%20--%3E%20ServicesDaemon%3A%20null%0AServicesDaemon%20--%3E%20Server%3A%20null%0AServer%20--%3E%20User%3A%20200%0Aend%0A
